<test>
    <SQLqueries>

        <query>
            <testID>SELECT-entity-datetime-value--cpu-busy</testID>
            <queryText>
                <![CDATA[
                SELECT entity, datetime, value
                FROM mpstat.cpu_busy
                ]]>
            </queryText>
            <loops>10</loops>
        </query>
        <query>
            <testID>select-count--java-method-invoke-average</testID>
            <queryText>
                <![CDATA[
                select count(*)
                from "java_method_invoke_average"
                ]]>
            </queryText>
            <loops>10</loops>
        </query>
        <query>
            <testID>select-with-maths--cpu-busy</testID>
            <queryText>
                <![CDATA[
                SELECT time, value, value+0
                FROM mpstat.cpu_busy
                ]]>
            </queryText>
            <loops>10</loops>
        </query>
        <query>
            <testID>select-count--disk-used</testID>
            <queryText>
                <![CDATA[
                select count(*)
                from df.disk_used
                ]]>
            </queryText>
            <loops>10</loops>
        </query>
        <query>
            <testID>Top-10-cities-with-the-highest-percentage-of-deaths-caused-by-PNI-for-entire-period-since-1970</testID>
            <queryText>
                <![CDATA[
                SELECT tot.tags.city as 'city', tot.tags.state as 'state',
                LOOKUP('us-region', tot.tags.region) AS 'region',
                sum(tot.value) AS 'all_deaths',
                sum(pni.value) AS 'pneumonia_influenza_deaths',
                sum(pni.value)/sum(tot.value)*100 AS 'pneumonia_influenza_deaths, %',
                LOOKUP('city-size', CONCAT(tot.tags.city, ',', tot.tags.state)) AS 'population'
                FROM cdc.all_deaths tot
                JOIN cdc.pneumonia_and_influenza_deaths pni
                WHERE tot.entity = 'mr8w-325u' AND tot.tags.city IS NOT NULL
                AND tot.value > 0
                GROUP BY tot.tags
                ORDER BY 'pneumonia_influenza_deaths, %' DESC, 'pneumonia_influenza_deaths' DESC
                OPTION (ROW_MEMORY_THRESHOLD 600000)
                ]]>
            </queryText>
            <loops>10</loops>
        </query>
        <query>
            <testID>The-deadliest-influenza-weeks</testID>
            <queryText>
                <![CDATA[
                SELECT date_format(tot.time, 'yyyy-MM-dd') as 'date',
                tot.tags.city as 'city', tot.tags.state as 'state',
                LOOKUP('us-region', tot.tags.region) AS 'region',
                tot.value as 'all_deaths',
                pni.value as 'pneumonia_influenza_deaths',
                pni.value/tot.value*100 as 'pneumonia_influenza_deaths, %',
                LOOKUP('city-size', CONCAT(tot.tags.city, ',', tot.tags.state)) AS 'population'
                FROM cdc.all_deaths tot
                JOIN cdc.pneumonia_and_influenza_deaths pni
                WHERE tot.entity = 'mr8w-325u' AND tot.tags.city IS NOT NULL
                AND pni.value > 1
                WITH row_number(tot.tags ORDER BY pni.value/tot.value DESC, tot.time DESC) <= 1
                ORDER BY 'pneumonia_influenza_deaths, %' DESC, pni.value DESC
                OPTION (ROW_MEMORY_THRESHOLD 600000)
                ]]>
            </queryText>
            <loops>10</loops>
        </query>
        <query>
            <testID>Partition--ROW-NUMBER-with-ORDER-BY-avg--long</testID>
            <queryText>
                <![CDATA[
                SELECT entity, tags.*, datetime, avg(value)
                FROM df.disk_used
                WHERE datetime BETWEEN "2016-01-01T12:00:00.000Z" AND "2016-12-25T12:00:00.000Z"
                AND tags.file_system LIKE '/dev/*'
                GROUP BY entity, tags, period(15 minute)
                WITH row_number(entity, tags ORDER BY avg(value) DESC) <= 3
                OPTION (ROW_MEMORY_THRESHOLD 1500000)
                ]]>
            </queryText>
            <loops>10</loops>
            <source>https://github.com/axibase/atsd-docs/blob/master/api/sql/examples/partition-row-number-top-N-tags.md#partition---row_number-with-order-by-avg</source>
        </query>
    </SQLqueries>

    <dataQueries>
        <dataQuery>
            <testID>data--jmeter-ok-count-metric</testID>
            <payload>
                <![CDATA[
                [{
                  "startDate": "2016-06-01T17:00:00Z",
                  "endDate":   "2017-02-15T18:00:00Z",
                  "entity": "hbs.axibase.com",
                  "metric": "jmeter.ok.count"
                }]
                ]]>
            </payload>
            <path>/api/v1/series/query</path>
            <method>POST</method>
            <loops>30</loops>
        </dataQuery>
        <dataQuery>
            <testID>data--mpstat-cpu-busy-metric-1-day</testID>
            <payload>
                <![CDATA[
                [{
                  "startDate": "2017-02-19T17:00:00Z",
                  "endDate":   "2017-02-20T17:00:00Z",
                  "entity": "nurswghbs001",
                  "metric": "mpstat.cpu_busy"
                }]
                ]]>
            </payload>
            <path>/api/v1/series/query</path>
            <method>POST</method>
            <loops>10</loops>
        </dataQuery>
        <dataQuery>
            <testID>data--mpstat-cpu-busy-metric-5-days</testID>
            <payload>
                <![CDATA[
                [{
                  "startDate": "2017-02-15T17:00:00Z",
                  "endDate":   "2017-02-20T17:00:00Z",
                  "entity": "nurswghbs001",
                  "metric": "mpstat.cpu_busy"
                }]
                ]]>
            </payload>
            <path>/api/v1/series/query</path>
            <method>POST</method>
            <loops>10</loops>
        </dataQuery>
        <dataQuery>
            <testID>data--mpstat-cpu-busy-metric-10-days</testID>
            <payload>
                <![CDATA[
                [{
                  "startDate": "2017-02-10T17:00:00Z",
                  "endDate":   "2017-02-20T17:00:00Z",
                  "entity": "nurswghbs001",
                  "metric": "mpstat.cpu_busy"
                }]
                ]]>
            </payload>
            <path>/api/v1/series/query</path>
            <method>POST</method>
            <loops>10</loops>
        </dataQuery>
        <dataQuery>
            <testID>data--mpstat-cpu-busy-metric-20-days</testID>
            <payload>
                <![CDATA[
                [{
                  "startDate": "2017-02-01T17:00:00Z",
                  "endDate":   "2017-02-20T17:00:00Z",
                  "entity": "nurswghbs001",
                  "metric": "mpstat.cpu_busy"
                }]
                ]]>
            </payload>
            <path>/api/v1/series/query</path>
            <method>POST</method>
            <loops>10</loops>
        </dataQuery>
        <dataQuery>
            <testID>data--mpstat-cpu-busy-metric-40-days</testID>
            <payload>
                <![CDATA[
                [{
                  "startDate": "2017-01-10T17:00:00Z",
                  "endDate":   "2017-02-20T17:00:00Z",
                  "entity": "nurswghbs001",
                  "metric": "mpstat.cpu_busy"
                }]
                ]]>
            </payload>
            <path>/api/v1/series/query</path>
            <method>POST</method>
            <loops>10</loops>
        </dataQuery>
        <dataQuery>
            <testID>data--mpstat-cpu-busy-metric-80-days</testID>
            <payload>
                <![CDATA[
                [{
                  "startDate": "2016-12-01T17:00:00Z",
                  "endDate":   "2017-02-20T17:00:00Z",
                  "entity": "nurswghbs001",
                  "metric": "mpstat.cpu_busy"
                }]
                ]]>
            </payload>
            <path>/api/v1/series/query</path>
            <method>POST</method>
            <loops>10</loops>
        </dataQuery>
        <dataQuery>
            <testID>data--mpstat-cpu-busy-metric-160-days</testID>
            <payload>
                <![CDATA[
                [{
                  "startDate": "2016-09-10T17:00:00Z",
                  "endDate":   "2017-02-20T17:00:00Z",
                  "entity": "nurswghbs001",
                  "metric": "mpstat.cpu_busy"
                }]
                ]]>
            </payload>
            <path>/api/v1/series/query</path>
            <method>POST</method>
            <loops>10</loops>
        </dataQuery>
        <dataQuery>
            <testID>data--mpstat-cpu-busy-metric-1-day-1-year-shift</testID>
            <payload>
                <![CDATA[
                [{
                  "startDate": "2016-02-19T17:00:00Z",
                  "endDate":   "2016-02-20T17:00:00Z",
                  "entity": "nurswghbs001",
                  "metric": "mpstat.cpu_busy"
                }]
                ]]>
            </payload>
            <path>/api/v1/series/query</path>
            <method>POST</method>
            <loops>10</loops>
        </dataQuery>
        <dataQuery>
            <testID>data--mpstat-cpu-busy-metric-5-days-1-year-shift</testID>
            <payload>
                <![CDATA[
                [{
                  "startDate": "2016-02-15T17:00:00Z",
                  "endDate":   "2016-02-20T17:00:00Z",
                  "entity": "nurswghbs001",
                  "metric": "mpstat.cpu_busy"
                }]
                ]]>
            </payload>
            <path>/api/v1/series/query</path>
            <method>POST</method>
            <loops>10</loops>
        </dataQuery>
        <dataQuery>
            <testID>data--mpstat-cpu-busy-metric-10-days-1-year-shift</testID>
            <payload>
                <![CDATA[
                [{
                  "startDate": "2016-02-10T17:00:00Z",
                  "endDate":   "2016-02-20T17:00:00Z",
                  "entity": "nurswghbs001",
                  "metric": "mpstat.cpu_busy"
                }]
                ]]>
            </payload>
            <path>/api/v1/series/query</path>
            <method>POST</method>
            <loops>10</loops>
        </dataQuery>
        <dataQuery>
            <testID>data--mpstat-cpu-busy-metric-20-days-1-year-shift</testID>
            <payload>
                <![CDATA[
                [{
                  "startDate": "2016-02-01T17:00:00Z",
                  "endDate":   "2016-02-20T17:00:00Z",
                  "entity": "nurswghbs001",
                  "metric": "mpstat.cpu_busy"
                }]
                ]]>
            </payload>
            <path>/api/v1/series/query</path>
            <method>POST</method>
            <loops>10</loops>
        </dataQuery>
        <dataQuery>
            <testID>data--mpstat-cpu-busy-metric-40-days-1-year-shift</testID>
            <payload>
                <![CDATA[
                [{
                  "startDate": "2016-01-10T17:00:00Z",
                  "endDate":   "2016-02-20T17:00:00Z",
                  "entity": "nurswghbs001",
                  "metric": "mpstat.cpu_busy"
                }]
                ]]>
            </payload>
            <path>/api/v1/series/query</path>
            <method>POST</method>
            <loops>10</loops>
        </dataQuery>
        <dataQuery>
            <testID>data--mpstat-cpu-busy-metric-80-days-1-year-shift</testID>
            <payload>
                <![CDATA[
                [{
                  "startDate": "2015-12-01T17:00:00Z",
                  "endDate":   "2016-02-20T17:00:00Z",
                  "entity": "nurswghbs001",
                  "metric": "mpstat.cpu_busy"
                }]
                ]]>
            </payload>
            <path>/api/v1/series/query</path>
            <method>POST</method>
            <loops>10</loops>
        </dataQuery>
        <dataQuery>
            <testID>data--mpstat-cpu-busy-metric-160-days-1-year-shift</testID>
            <payload>
                <![CDATA[
                [{
                  "startDate": "2015-09-10T17:00:00Z",
                  "endDate":   "2016-02-20T17:00:00Z",
                  "entity": "nurswghbs001",
                  "metric": "mpstat.cpu_busy"
                }]
                ]]>
            </payload>
            <path>/api/v1/series/query</path>
            <method>POST</method>
            <loops>10</loops>
        </dataQuery>
    </dataQueries>
</test>